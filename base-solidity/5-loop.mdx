---
title: å¾ªç¯
---
# å¾ªç¯
å¾ªç¯æ˜¯ä¸€ç§é‡å¤æ‰§è¡ŒæŸæ®µä»£ç çš„ç»“æ„ï¼Œå®ƒå¯ä»¥è®©ä»£ç é‡å¤æ‰§è¡Œï¼Œç›´åˆ°æ»¡è¶³æŸä¸ªæ¡ä»¶ä¸ºæ­¢ã€‚

## for å¾ªç¯
forå¾ªç¯æ˜¯ä¸€ä¸ªä½¿ç”¨é¢‘ç‡éå¸¸é«˜çš„è¯­æ³•ï¼Œè‡³å°‘åœ¨ä¼ ç»Ÿç¨‹åºå¼€å‘ä¸­çš„ï¼Œåœ¨åŒºå—é“¾ä¸Šè¿™ç§å¯¹GASæ§åˆ¶éå¸¸ä¸¥æ ¼çš„åœ°æ–¹ï¼Œforå¾ªç¯åˆ™æ˜¯èƒ½ä¸ç”¨å°±ä¸ç”¨ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹forå¾ªç¯çš„ç»“æ„ã€‚  
ä¸€èˆ¬çš„forå¾ªç¯è¯­å¥ä¸º`for (åˆå§‹åŒ–æ‰§è¡Œå†…å®¹,æ¡ä»¶è¯­å¥,åæ‰§è¡Œå†…å®¹) {å¾ªç¯æ‰§è¡Œå†…å®¹}`ã€‚  
ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚  
```sol autorun autocall={[{funcName:"runFor",ignoreResult:true},{funcName:'count'}]}
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;
contract TestContract{
    uint public count = 0;

    function runFor() public{
        // åˆå§‹åŒ–å˜é‡iå€¼ä¸º0ï¼Œå½“iå°äº10æ—¶ï¼Œæ‰§è¡Œå¾ªç¯ä½“ï¼Œæ¯æ¬¡å¾ªç¯åiè‡ªå¢1
        for (uint i = 0; i < 10; i++) {
            count++;
        }
    }
}
```

æ ¹æ®ä¸Šé¢ç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾æŒæ¡forå¾ªç¯çš„ä½¿ç”¨æ–¹å¼ï¼Œä¸è¿‡ï¼Œä½ ä¹Ÿæ³¨æ„åˆ°ï¼Œforå¾ªç¯ä¸­ï¼Œå…¶å®æ‰€æœ‰çš„å†…å®¹éƒ½æ˜¯å¯é€‰çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å»æ‰åˆå§‹åŒ–æ‰§è¡Œå†…å®¹,æ¡ä»¶è¯­å¥,åæ‰§è¡Œå†…å®¹ç”šè‡³æ˜¯å¾ªç¯æ‰§è¡Œå†…å®¹ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªç©ºå¾ªç¯ã€‚  
 
```
for (;;) {
    // æ— é™å¾ªç¯
    // åœ¨é‡åˆ°breakä¹‹å‰ï¼Œè¿™å°†æ˜¯ä¸€æ®µæ— é™å¾ªç¯ä»£ç ï¼Œä½œç”¨ç­‰åŒäºwhile(true)
}
```

æˆ‘ä»¬å†ä¸¾ä¸€ä¸ªå¸¸è§çš„ä¾‹å­ã€‚

```sol autorun autocall={[{funcName:"runFor",ignoreResult:true},{funcName:'count'}]}
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;
contract TestContract{
    // æ³¨æ„è¿™é‡Œèµ·å§‹ä¸º10
    uint public count = 10;

    function runFor() public{
        // æ³¨æ„ï¼Œæˆ‘ä»¬è¿™é‡Œçœç•¥äº†åˆå§‹åŒ–æ‰§è¡Œå†…å®¹å’Œåæ‰§è¡Œå†…å®¹ï¼Œåªä¿ç•™äº†æ¡ä»¶è¯­å¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹æ‰§è¡Œåˆå§‹åŒ–æ‰§è¡Œå†…å®¹ï¼Œä¹Ÿå¯ä»¥åœ¨å¾ªç¯ä½“å†…ç›´æ¥å†™ åæ‰§è¡Œå†…å®¹ã€‚
        for (; count < 20;) {
            count++;
        }
    }
}
```

ä¸è¿‡ï¼Œæ— æ³•æ§åˆ¶çš„å¾ªç¯å…¶å®æ¯«æ— æ„ä¹‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦çŸ¥é“ä¸¤ä¸ªé‡è¦çš„å…³é”®è¯ï¼Œ`break`å’Œ`continue`ã€‚
- breakï¼šè·³å‡ºå¾ªç¯ï¼Œä¸å†æ‰§è¡Œå¾ªç¯ä½“å†…çš„ä»£ç ã€‚
- continueï¼šè·³å‡ºæœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ã€‚

```sol autorun autocall={[{funcName:"runFor",ignoreResult:true},{funcName:'count'}]}
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;
contract TestContract{
    uint public count = 0;

    function runFor() public{
        for (uint i = 0; i < 10; i++) {
            if (i == 8) {
                // è™½ç„¶æ¡ä»¶æ˜¯ i < 10,ä½†æ˜¯åœ¨breakåå°†ä¸ä¼šæ‰§è¡Œåç»­å¾ªç¯
                break;
            }
            if (i == 3) {
                // è·³è¿‡æœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯
                continue;
            }
            count++;
        }
    }
}
```

## while å¾ªç¯
whileå¾ªç¯æ˜¯å¦ä¸€ç§å¸¸è§çš„å¾ªç¯è¯­æ³•ï¼Œå®ƒçš„ç»“æ„ä¸º`while (æ¡ä»¶è¯­å¥) {å¾ªç¯æ‰§è¡Œå†…å®¹}`ã€‚å®é™…ä¸Šï¼Œä½ å¯ä»¥è®¤ä¸ºä»–å…¨ç­‰äº`for (;æ¡ä»¶è¯­å¥;) {å¾ªç¯æ‰§è¡Œå†…å®¹}`ã€‚  
ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚

```sol autorun autocall={[{funcName:"runWhile",ignoreResult:true},{funcName:'count'}]}
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;
contract TestContract{
    uint public count = 0;

    function runWhile() public{
        while (count < 10) {
            count++;
        }
    }
}
```

åŒæ ·çš„ï¼Œwhileå¾ªç¯ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨`continue`å’Œ`break`å…³é”®è¯æ¥æ§åˆ¶æµç¨‹ï¼Œè¿™é‡Œå°±ä¸å†å±•å¼€ã€‚

<Challenges>
<Challenge title="å¾ªç¯å®è·µé¢˜">
<div className='cl-title'>è¯·å°†ä¸‹æ–¹åˆçº¦æŒ‰ç…§æ³¨é‡Šå†…å®¹å®Œå–„ï¼Œéš¾åº¦ï¼šğŸŒŸğŸŒŸ</div>
<CoEditor runnable={true}
test={async(vm,h)=>{
    const data = []
    const contract = h.getMainContract()

    const inputs = [[1,5],[12,30],[44,60],[73243,73300]]
    const outputs = [7, 112, 388, 585980]

    console.log(outputs)


    for(const i in inputs){
        const input = inputs[i]
        const output = outputs[i]
        await h.catchRawTest('æµ‹è¯•è¾“å…¥',async()=>{
            await h.checkResult(contract,'loopRun(uint256,uint256)',[output],input)
        },data)
    }

    return h.wrapResult(data)
}}
>
```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;
contract TestContract{
    function loopRun(uint start,uint end) public pure returns(uint){
        uint result = 1;
        // todo: è¯·å®Œæˆéœ€æ±‚ï¼Œä»startä½œä¸ºèµ·å§‹æ•°ï¼Œendä¸ºå¾ªç¯ç»“æŸæ•°è¿›è¡Œå¾ªç¯ï¼Œæˆ‘ä»¬è®¾å½“å‰å¾ªç¯æ•°ä¸ºiï¼Œæ¯”å¦‚startä¸º10ï¼Œendä¸º20ï¼Œé‚£ä¹ˆiçš„å€¼ä¸º10,11,12,13,14,15,16,17,18,19
        // todo: æ¯æ¬¡å¾ªç¯è¿›è¡Œåˆ¤æ–­å¦‚æœresult % i == 0ï¼Œåˆ™è·³å‡ºå½“å‰å¾ªç¯ã€‚å¦‚æœresult > start * 8 åˆ™è·³å‡ºæ•´ä¸ªå¾ªç¯ã€‚å¦åˆ™å°†resultåŠ ä¸Šiã€‚

        return result;
    }
}
```
</CoEditor>
<Challenge.Hint>
æ ¹æ®é¢˜æ„ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨forå¾ªç¯ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¾ªç¯ä½“å†…ä½¿ç”¨breakå’Œcontinueå…³é”®è¯æ¥æ§åˆ¶æµç¨‹æ¥å®Œæˆä»»åŠ¡ã€‚  
é€æ­¥åˆ†è§£ä¸€ä¸‹å†…å®¹çœ‹è¿™ä¸€å¥ï¼Œ"ä»startä½œä¸ºèµ·å§‹æ•°ï¼Œendä¸ºå¾ªç¯ç»“æŸæ•°è¿›è¡Œå¾ªç¯ï¼Œæˆ‘ä»¬è®¾å½“å‰å¾ªç¯æ•°ä¸ºiï¼Œæ¯”å¦‚startä¸º10ï¼Œendä¸º20ï¼Œé‚£ä¹ˆiçš„å€¼ä¸º10,11,12,13,14,15,16,17,18,19"  
ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€ä¸ªforå¾ªç¯ï¼Œå¹¶ä¸”åˆå§‹åŒ–æ‰§è¡Œå†…å®¹è¦åˆ›å»ºä¸€ä¸ªiå˜é‡å¹¶ä¸”èµ‹å€¼ä¸ºstart,æ¡ä»¶è¯­å¥ä¸ºiå°äºend,åæ‰§è¡Œå†…å®¹ä¸ºi++ã€‚  

é‚£ä¹ˆå†çœ‹æ‰§è¡Œçš„å†…å®¹ï¼Œ"æ¯æ¬¡å¾ªç¯è¿›è¡Œåˆ¤æ–­å¦‚æœresult % i == 0ï¼Œåˆ™è·³å‡ºå½“å‰å¾ªç¯ã€‚å¦‚æœresult > start * 8 åˆ™è·³å‡ºæ•´ä¸ªå¾ªç¯ã€‚å¦åˆ™å°†resultåŠ ä¸Šiã€‚"  
é‚£ä¹ˆå°±æ˜¯åˆ¤æ–­result % i == 0ï¼Œå¦‚æœæ˜¯åˆ™è·³å‡ºå½“å‰å¾ªç¯ï¼Œå¦‚æœä¸æ˜¯åˆ™ç»§ç»­æ‰§è¡Œã€‚ç„¶åå†åˆ¤æ–­result > start * 8ï¼Œå¦‚æœæ˜¯åˆ™è·³å‡ºæ•´ä¸ªå¾ªç¯ï¼Œå¦‚æœä¸æ˜¯åˆ™ç»§ç»­æ‰§è¡Œã€‚æ‰§è¡Œresult += iã€‚
</Challenge.Hint>
<Challenge.Solution>
```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;
contract TestContract{
    function loopRun(uint start,uint end) public pure returns(uint){
        uint result = 1;
        for (uint i = start; i < end; i++) {
            if (result % i == 0) {
                continue;
            }
            if (result > start * 8) {
                break;
            }
            result += i;
        }
        return result;
    }
}
```
</Challenge.Solution>
</Challenge>
</Challenges>